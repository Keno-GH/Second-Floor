<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <!-- 
    =====================================================
    Base ThingDef for Staircase Upgrade Buildings
    =====================================================
    These are "phantom" buildings that exist in the BuildingOnTop altitude layer.
    When construction completes, they apply the upgrade to the parent staircase and despawn.
    They use vanilla construction mechanics (blueprints, frames, materials, work, skill checks).
    -->
    
    <ThingDef Name="SF_UpgradeBuildingBase" Abstract="True">
        <thingClass>SecondFloor.Building_StaircaseUpgrade</thingClass>
        <category>Building</category>
        <altitudeLayer>BuildingOnTop</altitudeLayer>
        <passability>Standable</passability>
        <selectable>true</selectable>
        <useHitPoints>false</useHitPoints>
        <building>
            <isEdifice>false</isEdifice>
            <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
        </building>
        <!-- <constructEffect>ConstructMetal</constructEffect> -->
        <placeWorkers>
            <li>SecondFloor.PlaceWorker_OnStaircase</li>
        </placeWorkers>
        <!-- designationCategory is required for RimWorld to auto-generate blueprint and frame defs -->
        <!-- The PlaceWorker prevents manual placement anyway since it requires a staircase -->
        <designationCategory>Misc</designationCategory>
        <size>(1,1)</size>
        <graphicData>
            <!-- Use a vanilla texture until we have custom ones -->
            <texPath>Things/Building/Misc/MultiAnalyzer</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
    </ThingDef>

    <!-- 
    =====================================================
    Individual Upgrade Buildings
    =====================================================
    -->
    
    <!-- Extra Beds / Extra Room Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_ExtraBeds</defName>
        <label>extra room upgrade</label>
        <description>Construct an additional private room with a double bed.</description>
        <statBases>
            <WorkToBuild>3000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>200</WoodLog>
        </costList>
        <constructionSkillPrerequisite>2</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_ExtraBeds</upgradeDef>
                <onePerBed>false</onePerBed>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Barracks Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_Barracks</defName>
        <label>barracks upgrade</label>
        <description>Convert the upstairs into a barracks with double the bed capacity.</description>
        <statBases>
            <WorkToBuild>3000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>400</WoodLog>
        </costList>
        <constructionSkillPrerequisite>3</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_Barracks</upgradeDef>
                <onePerBed>false</onePerBed>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Soundproofing Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_Soundproofing</defName>
        <label>soundproofing upgrade</label>
        <description>Install soundproofing materials to prevent sleep disturbance.</description>
        <researchPrerequisites>
            <li>SF_Soundproofing</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>5000</WorkToBuild>
        </statBases>
        <costList>
            <Cloth>50</Cloth>
            <WoodLog>20</WoodLog>
        </costList>
        <constructionSkillPrerequisite>3</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_Soundproofing</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Basic Decoration Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_BasicDecoration</defName>
        <label>basic decoration upgrade</label>
        <description>Add simple decorations to improve the room's impressiveness.</description>
        <statBases>
            <WorkToBuild>1500</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>20</WoodLog>
        </costList>
        <constructionSkillPrerequisite>2</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_BasicDecoration</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Comfortable Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_ComfortableUpgrade</defName>
        <label>comfortable upgrade</label>
        <description>Upgrade furniture and amenities for improved comfort.</description>
        <statBases>
            <WorkToBuild>3500</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>40</WoodLog>
            <Cloth>20</Cloth>
            <Steel>20</Steel>
        </costList>
        <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_ComfortableUpgrade</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Fine Decoration Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_FineDecoration</defName>
        <label>fine decoration upgrade</label>
        <description>Add fine art and decorations for an impressive room.</description>
        <statBases>
            <WorkToBuild>5000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>60</WoodLog>
            <Steel>50</Steel>
        </costList>
        <artisticSkillPrerequisite>2</artisticSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_FineDecoration</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Luxury Finishing Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_LuxuryFinishing</defName>
        <label>luxury finishing upgrade</label>
        <description>Install high-end materials and luxury amenities.</description>
        <statBases>
            <WorkToBuild>12000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>100</WoodLog>
            <Gold>15</Gold>
            <Jade>20</Jade>
        </costList>
        <artisticSkillPrerequisite>10</artisticSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_StaircaseUpgrade_LuxuryFinishing</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Braziers Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_Braziers</defName>
        <label>braziers upgrade</label>
        <description>Install braziers to provide heat to the second floor area. Consumes fuel.</description>
        <researchPrerequisites>
            <li>SF_AirManagement</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>2000</WorkToBuild>
        </statBases>
        <stuffCategories>
            <li>Metallic</li>
        </stuffCategories>
        <costStuffCount>50</costStuffCount>
        <constructionSkillPrerequisite>2</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/Brazier</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_Braziers</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

    <!-- Campfires Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_Campfires</defName>
        <label>campfires upgrade</label>
        <description>Install campfires to provide heat to the second floor area. They require more space and fuel than braziers but provide more heat. Consumes fuel.</description>
        <researchPrerequisites>
            <li>SF_AirManagement</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>4000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>25</WoodLog>
        </costList>
        <constructionSkillPrerequisite>0</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/Campfire</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_Campfires</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

    <!-- Passive Cooler Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_PassiveCooler</defName>
        <label>passive cooler upgrade</label>
        <description>Install passive coolers to provide cooling to the second floor area. They consume fuel.</description>
        <researchPrerequisites>
            <li>SF_AirManagement</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>3000</WorkToBuild>
        </statBases>
        <costList>
            <WoodLog>50</WoodLog>
        </costList>
        <constructionSkillPrerequisite>0</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/PassiveCooler</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_PassiveCooler</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

    <!-- Textile Insulation Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_TextileInsulation</defName>
        <label>textile insulation upgrade</label>
        <description>Install textile insulation to help moderate temperatures in the floor area.</description>
        <researchPrerequisites>
            <li>SF_TextileInsulation</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>2500</WorkToBuild>
        </statBases>
        <stuffCategories>
            <li>Fabric</li>
        </stuffCategories>
        <graphicData>
            <texPath>Things/Building/Linked/Sandbags_MenuIcon</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <costStuffCount>75</costStuffCount>
        <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_TextileInsulation</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

    <!-- Thick Insulation Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_ThickInsulation</defName>
        <label>thick insulation upgrade</label>
        <description>Install thick insulation to moderate temperatures in the floor area.</description>
        <statBases>
            <WorkToBuild>5000</WorkToBuild>
        </statBases>
        <stuffCategories>
            <li>Stony</li>
            <li>Metallic</li>
            <li>Woody</li>
        </stuffCategories>
        <costStuffCount>100</costStuffCount>
        <constructionSkillPrerequisite>0</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Linked/Barricade_MenuIcon</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_ThickInsulation</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

    <!-- =====================================================
         Smart Temperature Modifier Buildings (Power-based)
         =====================================================
    -->
    
    <!-- Electric Heater Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_ElectricHeater</defName>
        <label>electric heater upgrade</label>
        <description>Install an electric heater to provide smart heating to the second floor area. Power consumption is throttled based on temperature needs.</description>
        <researchPrerequisites>
            <li>SF_Heaters</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>4000</WorkToBuild>
        </statBases>
        <costList>
            <Steel>80</Steel>
            <ComponentIndustrial>2</ComponentIndustrial>
        </costList>
        <constructionSkillPrerequisite>4</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/TempControl/Heater_south</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_ElectricHeater</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Electric Cooler Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_ElectricCooler</defName>
        <label>electric cooler upgrade</label>
        <description>Install an electric cooler to provide smart cooling to the second floor area. Power consumption is throttled based on temperature needs.</description>
        <researchPrerequisites>
            <li>SF_AirConditioners</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>4500</WorkToBuild>
        </statBases>
        <costList>
            <Steel>100</Steel>
            <ComponentIndustrial>3</ComponentIndustrial>
        </costList>
        <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/TempControl/Cooler_south</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_ElectricCooler</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>
    
    <!-- Air Conditioning Upgrade -->
    <ThingDef ParentName="SF_UpgradeBuildingBase">
        <defName>SF_UpgradeBuilding_AirConditioning</defName>
        <label>air conditioning upgrade</label>
        <description>Install an air conditioning unit that can both heat and cool the second floor area. Power consumption is throttled based on temperature needs.</description>
        <researchPrerequisites>
            <li>SF_AirConditioners</li>
        </researchPrerequisites>
        <statBases>
            <WorkToBuild>6000</WorkToBuild>
        </statBases>
        <costList>
            <Steel>150</Steel>
            <ComponentIndustrial>5</ComponentIndustrial>
        </costList>
        <constructionSkillPrerequisite>6</constructionSkillPrerequisite>
        <graphicData>
            <texPath>Things/Building/Misc/TempControl/Cooler_south</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <modExtensions>
            <li Class="SecondFloor.StaircaseUpgradeExtension">
                <upgradeDef>SF_AirConditioning</upgradeDef>
            </li>
        </modExtensions>
    </ThingDef>

</Defs>
